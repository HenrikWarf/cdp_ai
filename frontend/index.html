<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overview - AetherSegment AI</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/overview.css">
</head>
<body>
    <!-- Navigation -->
    <div id="main-nav"></div>

    <!-- Main Content -->
    <div class="page-container">
        <!-- Page Header -->
        <div class="page-header">
            <div>
                <h1 class="page-title">Overview Dashboard</h1>
                <p class="page-subtitle">Customer intelligence and campaign insights at a glance</p>
            </div>
            <div class="header-actions">
                <div class="last-updated" id="last-updated">
                    <span class="spinner"></span>
                </div>
                <button id="refresh-btn" class="btn btn-secondary" style="display: none;">
                    <span class="refresh-icon">🔄</span>
                    <span class="btn-text">Refresh Data</span>
                </button>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions mb-xl">
            <a href="campaign-segmentation.html" class="action-card primary">
                <div class="action-icon">🎯</div>
                <div class="action-content">
                    <h3>Create Campaign Segment</h3>
                    <p>Build AI-powered segments for your marketing campaigns</p>
                </div>
                <div class="action-arrow">→</div>
            </a>
            <a href="conversational-analytics.html" class="action-card secondary">
                <div class="action-icon">💬</div>
                <div class="action-content">
                    <h3>Ask Questions</h3>
                    <p>Get insights with conversational analytics</p>
                </div>
                <div class="action-arrow">→</div>
            </a>
        </div>

        <!-- Key Metrics Grid -->
        <div class="section-header mb-lg">
            <h2>Key Metrics</h2>
            <p class="text-secondary">Real-time data from your customer database</p>
        </div>
        
        <div class="grid grid-cols-4 mb-xl" id="metrics-grid">
            <div class="metric-card">
                <div class="metric-icon">👥</div>
                <div class="metric-value" id="total-customers">
                    <span class="spinner"></span>
                </div>
                <div class="metric-label">Total Customers</div>
            </div>
            <div class="metric-card">
                <div class="metric-icon">🛒</div>
                <div class="metric-value" id="abandoned-carts">
                    <span class="spinner"></span>
                </div>
                <div class="metric-label">Abandoned Carts (7d)</div>
            </div>
            <div class="metric-card">
                <div class="metric-icon">💰</div>
                <div class="metric-value" id="avg-clv">
                    <span class="spinner"></span>
                </div>
                <div class="metric-label">Avg CLV Score</div>
            </div>
            <div class="metric-card">
                <div class="metric-icon">⚠️</div>
                <div class="metric-value" id="at-risk-customers">
                    <span class="spinner"></span>
                </div>
                <div class="metric-label">At-Risk Customers</div>
            </div>
        </div>

        <!-- Customer Insights Grid -->
        <div class="grid grid-cols-2 mb-xl">
            <!-- Geographic Distribution -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">📍 Geographic Distribution</h3>
                </div>
                <div class="card-body">
                    <div id="geo-chart" class="chart-container">
                        <span class="spinner"></span>
                        <p class="text-secondary text-center">Loading...</p>
                    </div>
                </div>
            </div>

            <!-- Customer Value Segments -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">💎 Customer Value Segments</h3>
                </div>
                <div class="card-body">
                    <div id="value-chart" class="chart-container">
                        <span class="spinner"></span>
                        <p class="text-secondary text-center">Loading...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Campaign Opportunities & Behavioral Insights -->
        <div class="grid grid-cols-2 mb-xl">
            <!-- Campaign Opportunities -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">🎯 Campaign Opportunities</h3>
                </div>
                <div class="card-body">
                    <div id="opportunities-list" class="opportunities-container">
                        <span class="spinner"></span>
                        <p class="text-secondary text-center">Loading...</p>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="campaign-segmentation.html" class="btn btn-primary btn-sm">
                        Create Campaign Segment →
                    </a>
                </div>
            </div>

            <!-- Behavioral Insights -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">🔍 Behavioral Insights</h3>
                </div>
                <div class="card-body">
                    <div id="behavioral-insights" class="insights-container">
                        <span class="spinner"></span>
                        <p class="text-secondary text-center">Loading...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Health -->
        <div class="card mb-xl">
            <div class="card-header">
                <h3 class="card-title">📊 Data Health</h3>
            </div>
            <div class="card-body">
                <div id="data-health" class="data-health-grid">
                    <span class="spinner"></span>
                    <p class="text-secondary text-center">Loading...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module">
        // Import and render navigation
        import { NavigationComponent } from './js/components/Navigation.js';
        const nav = new NavigationComponent();
        nav.render();
    </script>
    <script type="module" src="js/overview.js?v=4"></script>
</body>
</html>
